<div #widget style="display: flex; position: relative; width: 100%;
justify-content: center;
align-items: center;
user-select: none;
word-break: break-word;
overflow-wrap: break-word;
text-align: center;" [style.backgroundColor]="getBackgroundColor()"
    [style.outline]="border && border.enabled ? border.width + 'px ' + border.style + ' ' + getBorderColor() : null"
    [style.borderRadius]="
corners && 
(corners.topLeft > 0 ||
corners.topRight > 0 ||
corners.bottomRight > 0 ||
corners.bottomLeft > 0) ?
corners.topLeft + 'px ' + corners.topRight + 'px ' + corners.bottomRight + 'px ' + corners.bottomLeft + 'px': null"
    [style.box-shadow]="shadow && shadow.enabled ? shadow.x + 'px ' + shadow.y + 'px ' + shadow.blur + 'px ' + shadow.size + 'px ' + shadow.rgbColor.toRGBString() : null"
    [style.fontSize.px]="caption.fontSize" [style.maxWidth.px]="width ? width : null" [style.minHeight.px]="height"
    [ngStyle]="{ 'background-image': background.image && background.image.src ? 'url(images/' + background.image.src + ')' : null,
                        'background-position': background.image ? background.image.position : null,
                        'background-repeat': background.image ? background.image.repeat : null,
                        'background-attachment': background.image ? background.image.attachment : null}">

    <div [style.fontFamily]="caption.font.value" [style.fontSize]="caption.fontSize.value"
        [style.fontWeight]="caption.fontWeight" [style.fontStyle]="caption.fontStyle"
        [style.textDecoration]="caption.textDecoration" [style.color]="getTextColor()" style="text-align: center;">
        {{caption.text}}
    </div>

    <!-- Selection -->
    <div id="ignore-element-height" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0;"
        [ngClass]="{'selected-widget': widgetService.selectedWidget == this && widgetService.currentWidgetInspectorView == widgetInspectorView.Widget}"></div>

    <!-- Handles -->
    <div id="ignore-element-height" *ngIf="widgetService.selectedWidget == this && widgetService.currentWidgetInspectorView == widgetInspectorView.Widget">
        <div class="handle top-left" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.TopLeft, $event)"></div>
        <div class="handle top" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.Top, $event)"></div>
        <div class="handle top-right" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.TopRight, $event)"></div>
        <div class="handle left" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.Left, $event)"></div>
        <div class="handle bottom-left" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.BottomLeft, $event)"></div>
        <div class="handle bottom" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.Bottom, $event)"></div>
        <div class="handle bottom-right" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.BottomRight, $event)"></div>
        <div class="handle right" (mousedown)="widgetService.onWidgetHandleMousedown(widgetHandle.Right, $event)"></div>
    </div>
</div>