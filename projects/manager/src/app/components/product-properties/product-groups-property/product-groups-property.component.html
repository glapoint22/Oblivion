<panel [title]="'Product Groups'"
       (onOpen)="productProductGroupsManager.onOpen()">
       
    <div class="property-box-dark">

        <!-- Property Box Bar -->
        <div class="property-box-bar">

            <!-- Search icon -->
            <icon-button class="search-icon-button"
                         [icon]="productProductGroupsManager.searchIcon"
                         [title]="productProductGroupsManager.searchIconButtonTitle"
                         [isDisabled]="false"
                         (onOver)="productProductGroupsManager.overButton = $event"
                         (onClick)="productProductGroupsManager.toggleSearch()">
            </icon-button>

            <div class="icons">
                <!-- Delete icon -->
                <icon-button [icon]="'fas fa-trash-alt'"
                             [title]="productProductGroupsManager.deleteIconButtonTitle"
                             [isDisabled]="productProductGroupsManager.isDisabled('deleteDisabled')"
                             (onOver)="productProductGroupsManager.overButton = $event"
                             (onClick)="productProductGroupsManager.delete()">
                </icon-button>

                <!-- Edit icon -->
                <icon-button [icon]="'fas fa-pencil-alt'"
                             [title]="productProductGroupsManager.editIconButtonTitle"
                             [isDisabled]="productProductGroupsManager.isDisabled('editDisabled')"
                             (onOver)="productProductGroupsManager.overButton = $event"
                             (onClick)="productProductGroupsManager.edit()">
                </icon-button>

                <ng-container *ngIf="!productProductGroupsManager.searchMode">
                    <!-- Add icon -->
                    <icon-button [icon]="'fas fa-plus-circle'"
                                 [title]="productProductGroupsManager.addIconButtonTitle"
                                 [isDisabled]="productProductGroupsManager.isDisabled('addDisabled')"
                                 (onOver)="productProductGroupsManager.overButton = $event"
                                 (onClick)="productProductGroupsManager.add()">
                    </icon-button>
                </ng-container>
            </div>
        </div>
        
        <!-- Hierarchy -->
        <ng-container *ngIf="!productProductGroupsManager.searchMode">
            <checkbox-list #listComponent
                           [sourceList]="productProductGroupsManager.thisArray"
                           [options]="productProductGroupsManager.listOptions"
                           (onListUpdate)="productProductGroupsManager.listUpdate = $event">
            </checkbox-list>
        </ng-container>

        <!-- Search -->
        <ng-container *ngIf="productProductGroupsManager.searchMode">
            
            <input id="productProductGroupsSearchInput"
                    placeholder="Search"
                    (input)="productProductGroupsManager.onSearchInputChange($event.target)">

            <ng-container *ngIf="productProductGroupsManager.thisSearchList.length == 0">
                <div class="no-search-results">
                    No search results available
                </div>
            </ng-container>
            

            <ng-container *ngIf="productProductGroupsManager.thisSearchList.length > 0">
                <checkbox-list #searchComponent
                               [sourceList]="productProductGroupsManager.thisSearchList"
                               [options]="productProductGroupsManager.searchOptions"
                               (onListUpdate)="productProductGroupsManager.searchUpdate = $event">
                </checkbox-list>
            </ng-container>
        </ng-container>
    </div>
</panel>